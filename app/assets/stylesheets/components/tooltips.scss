////////////////////////
// Tooltips
////////////////////////

// Base Styles

*[help], *[upcoming], *[data-company-name], *[data-user-name], *[widget-help] {
  position: relative;
}





[help]:hover, [upcoming]:hover, [data-company-name]:hover, [data-user-name]:hover, [widget-help]:hover {
  &:before { // Li'l arrow
    content: '';
    display: block;
    width: 1.2rem;
    height: 1.2rem;
    position: absolute;
    z-index: 4;
    left: 50%;
    top: calc(100% - 0.2rem);
    transform: translateX(-50%) rotate(45deg);
    background-color: var(--grey--140);
  }
  &:after { // Message box
    display: block;
    padding: 0.5rem 1.2rem;
    border-radius: 0.8rem;
    position: absolute;
    z-index: 5;
    left: 50%;
    top: 100%;
    font-size: 1.2rem;
    line-height: 1.6rem;
    white-space: nowrap;
    font-weight: normal;
    text-align: center;
    transform: translateX(-50%);
    color: var(--white);
    background-color: var(--grey--140);
  }
}

[help]:hover:before, [help]:hover:after, [widget-help]:hover:before, [widget-help]:hover:after {
  background-color: var(--light-grey--160);
}

[widget-help]:hover:before {
  left: -2rem !important;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
}

[help]:hover:after {
  content: attr(help);
}

[widget-help]:hover:after {
  content: attr(widget-help);
  left: -13.5rem;
  top: 50%;
  transform: translateY(-50%);
}


// Contextual Variants

//// explain something negative
*[negative-explanation]:hover, .negative-explanation:hover {
  &:before {
    background-color: var(--red);
  }
  &:after {
    background-color: var(--white);
    color: var(--red);
    border: solid 2px var(--red);
    border-radius: 0.5rem;
    width: 300px;
    white-space: break-spaces;
  }
}

//// Onboarding box

.field--box[help]:hover {
  &:before { // Li'l arrow
    top: calc(100% - 1.6rem);
  }
  &:after { // Message box
    width: calc(100% - 4rem);
    padding: 2rem;
    top: calc(100% - 1.2rem);
    white-space: normal;
  }
}

//// User Names in Table, Menus
.user[data-user-name], .company[data-company-name] {
  &:before {
    transform: translateX(-8%) rotate(45deg);
  }
  &:after {
    content: attr(name);
    transform: translateX(-45%);
  }
  &:only-child {
    &:before, &:after {
      display: none;
    }
  }
}

.header-nav__user-button[data-user-name], .header-nav__user-icon {
  &:before, &:after {
    display: none;
  }
}

// To be developed UI feature flag

*[upcoming]:hover, .upcoming:hover {
  &:before { // Li'l arrow
    content: '';
    display: block;
    width: 1.2rem;
    height: 1.2rem;
    position: absolute;
    z-index: 4;
    left: 50%;
    top: calc(100% - 0.2rem);
    transform: translateX(-50%) rotate(45deg);
    background-color: var(--yellow--120);
  }
  &:after { // Message box
    content: 'Coming Soon';
    display: block;
    padding: 0.5rem 1.2rem;
    border-radius: 0.8rem;
    position: absolute;
    z-index: 5;
    left: 50%;
    top: 100%;
    font-size: 1.2rem;
    line-height: 1.6rem;
    white-space: nowrap;
    font-weight: normal;
    text-align: center;
    transform: translateX(-50%);
    color: var(--white);
    background-color: var(--yellow--120);
    }
}

// Unfinished Page Marker

.unfinished-page {
  position: fixed;
  right: 1.6rem;
  top: 9rem;
  background-color: var(--yellow);
  width: 3.2rem;
  height: 3.2rem;
  padding: 0.5rem 0.6rem;
  border-radius: 1.6rem;

  svg {
    height: 2rem;
    width: 2rem;
    color: var(--white);
  }

  &:hover:before { // Li'l arrow
    content: '';
    display: block;
    width: 1.2rem;
    height: 1.2rem;
    position: absolute;
    z-index: 4;
    right: 100%;
    top: calc(50% - 0.6rem);
    transform: translateX(-50%) rotate(45deg);
    background-color: var(--grey);
  }
  &:hover:after { // Message box
    content: 'Page functionality not fully implemented';
    display: block;
    padding: 0.5rem 1.2rem;
    border-radius: 0.8rem;
    position: absolute;
    z-index: 5;
    right: calc(100% + 1rem);
    top: calc(50% - 1.4rem);
    font-size: 1.2rem;
    line-height: 1.6rem;
    white-space: nowrap;
    font-weight: normal;
    text-align: center;
    color: var(--white);
    background-color: var(--grey);
    }
}

// Deal with long messages...

.has-help--long[help]:hover:after {
  width: 300px;
  white-space: break-spaces;
}

.has-help--absolute {
  position: relative;

  &:hover:before, &:hover:after {
    left: calc(50% + 0.8rem);
  }

  svg {
    position: absolute;
    top: -0.8rem;
    right: -1.6rem;
  }
}

.as-help--relative-12 {
  position: absolute;
  top: 0;
  left: 12rem;
  &:hover:before, &:hover:after {
    left: calc(50% + 0.8rem);
  }

  svg {
    position: absolute;
    top: -0.8rem;
    right: -1.6rem;
  }
}

.as-help--relative-8 {
  position: absolute;
  top: 0;
  left: 8rem;
  &:hover:before, &:hover:after {
    left: calc(50% + 0.8rem);
  }

  svg {
    position: absolute;
    top: -0.8rem;
    right: -1.6rem;
  }
}

.as-help--relative-6 {
  position: absolute;
  top: 0;
  left: 6rem;
  &:hover:before, &:hover:after {
    left: calc(50% + 0.8rem);
  }

  svg {
    position: absolute;
    top: -0.8rem;
    right: -1.6rem;
  }
}
